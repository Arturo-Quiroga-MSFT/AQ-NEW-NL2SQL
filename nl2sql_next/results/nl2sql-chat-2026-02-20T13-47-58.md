# NL2SQL Chat â€” 2026-02-20, 8:47:58 a.m.

## Q: Show monthly sales for 2024

```sql
SELECT Year, Month, MonthName, OrderCount, TotalUnits, TotalRevenue, TotalCost, TotalProfit, TotalDiscount, ProfitMarginPct
FROM dbo.vw_MonthlySales
WHERE Year = 2024
ORDER BY Month
OFFSET 0 ROWS FETCH NEXT 50 ROWS ONLY
```

| Year | Month | MonthName | OrderCount | TotalUnits | TotalRevenue | TotalCost | TotalProfit | TotalDiscount | ProfitMarginPct |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 2024 | 1 | January | 46 | 138 | 35147.78 | 18421.87 | 16272.56 | 903.72 | 46.3 |
| 2024 | 2 | February | 30 | 97 | 19051.33 | 9021.86 | 9727.99 | 416.38 | 51.06 |
| 2024 | 3 | March | 28 | 71 | 16926.46 | 8069.36 | 8472.44 | 289.98 | 50.05 |
| 2024 | 4 | April | 44 | 131 | 27761.36 | 13396.06 | 13845.96 | 906.5 | 49.87 |
| 2024 | 5 | May | 27 | 114 | 24229.14 | 12627.92 | 11155.31 | 803.97 | 46.04 |
| 2024 | 6 | June | 30 | 86 | 18597.48 | 9189.07 | 8925.33 | 594.79 | 47.99 |
| 2024 | 7 | July | 31 | 90 | 24749.1 | 12523.38 | 11876.07 | 547.63 | 47.99 |
| 2024 | 8 | August | 35 | 96 | 26588.75 | 13478.63 | 12737.41 | 566.94 | 47.91 |
| 2024 | 9 | September | 30 | 104 | 25258.57 | 13282.34 | 11709.24 | 788.76 | 46.36 |
| 2024 | 10 | October | 27 | 97 | 26935.1 | 12372.86 | 14171.58 | 448.99 | 52.61 |
| 2024 | 11 | November | 34 | 123 | 29781.76 | 14355.52 | 14972.5 | 560.64 | 50.27 |
| 2024 | 12 | December | 30 | 92 | 20133.82 | 10563.36 | 9205.94 | 690.24 | 45.72 |

*12 rows*

## Q: now for 2025

```sql
SELECT Year, Month, MonthName, OrderCount, TotalUnits, TotalRevenue, TotalCost, TotalProfit, TotalDiscount, ProfitMarginPct
FROM dbo.vw_MonthlySales
WHERE Year = 2025
ORDER BY Month
OFFSET 0 ROWS FETCH NEXT 50 ROWS ONLY
```

| Year | Month | MonthName | OrderCount | TotalUnits | TotalRevenue | TotalCost | TotalProfit | TotalDiscount | ProfitMarginPct |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 2025 | 1 | January | 34 | 145 | 32966.83 | 18257.95 | 14075.8 | 1428.25 | 42.7 |
| 2025 | 2 | February | 33 | 116 | 32387.61 | 17306.84 | 14683.57 | 1154.81 | 45.34 |
| 2025 | 3 | March | 44 | 157 | 42430.1 | 21782.02 | 20020.38 | 809.35 | 47.18 |
| 2025 | 4 | April | 35 | 128 | 29035.52 | 14486.71 | 14085.94 | 431.69 | 48.51 |
| 2025 | 5 | May | 28 | 99 | 27389.93 | 14036.84 | 13017.37 | 888.77 | 47.53 |
| 2025 | 6 | June | 33 | 99 | 24669.77 | 12190.68 | 12083.57 | 368.94 | 48.98 |
| 2025 | 7 | July | 31 | 111 | 29691.96 | 14306.31 | 14989.63 | 701.06 | 50.48 |
| 2025 | 8 | August | 32 | 100 | 24946.67 | 12933.92 | 11627.18 | 848.37 | 46.61 |
| 2025 | 9 | September | 36 | 107 | 26942.65 | 13872.85 | 12689.51 | 443.89 | 47.1 |
| 2025 | 10 | October | 37 | 80 | 20480.85 | 9851.87 | 10266.68 | 694.93 | 50.13 |
| 2025 | 11 | November | 38 | 127 | 31086.4 | 16477.65 | 14048.3 | 963.39 | 45.19 |
| 2025 | 12 | December | 25 | 69 | 18976.6 | 9532.85 | 9214.68 | 589.28 | 48.56 |

*12 rows*

## Q: create a table of sample questiosn I can ask here, by category

# Sample Questions by Category

Below is a categorized table of example questions you can ask about your RetailDW Azure SQL Database. These cover schema, relationships, optimization, analytics, and best practices.

| **Category**         | **Sample Questions**                                                                                                 |
|----------------------|---------------------------------------------------------------------------------------------------------------------|
| **Schema**           | - What columns are in dim.DimProduct?<br>- What is the primary key of fact.FactOrders?<br>- List all tables in the database. |
| **Relationships**    | - How is fact.FactOrders linked to dim.DimCustomer?<br>- Which tables reference dim.DimStore?<br>- What are the foreign keys for fact.FactReturns? |
| **Indexing & Optimization** | - What indexes should I add for frequent queries by ProductKey?<br>- How can I optimize queries on fact.FactOrders?<br>- Should I index OrderDateKey in fact.FactOrders? |
| **Analytics & Reporting** | - Show top 10 products by revenue.<br>- Which customers have the highest lifetime value?<br>- What is the monthly profit margin for 2024?<br>- List all orders with returns. |
| **Data Quality & Integrity** | - How do I check for orphaned records in fact.FactOrders?<br>- Are there any NULLs in critical foreign keys?<br>- How do I enforce referential integrity? |
| **Best Practices**   | - How should I partition large fact tables?<br>- What is the best way to handle slowly changing dimensions?<br>- How do I manage historical data in dim.DimProduct? |
| **Security & Access**| - How can I restrict access to sensitive customer data?<br>- What roles should be used for read-only reporting?<br>- How do I audit changes to dim.DimCustomer? |
| **ETL & Data Loading** | - What is the recommended way to load data into fact.FactInventory?<br>- How do I handle late-arriving facts?<br>- How do I update dimension tables safely? |
| **View Usage**       | - What does dbo.vw_ProductPerformance include?<br>- How is dbo.vw_OrderSummary different from fact.FactOrders?<br>- When should I use a view vs. a table? |

---

Feel free to ask any of these or similar questions for detailed, schema-aware answers!

## Q: Show top 10 products by revenue

**Error:** 'sql'

## Q: What is the monthly profit margin for 2024?

**Error:** 'sql'
