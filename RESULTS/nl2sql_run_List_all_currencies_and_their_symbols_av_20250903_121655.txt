========== NATURAL LANGUAGE QUERY ==========
List all currencies and their symbols available in the system.

========== INTENT & ENTITIES ==========
{
  "intent": "list_currencies",
  "entities": {
    "object": "currency",
    "fields": ["currency", "symbol"],
    "filters": {
      "scope": "available_in_system"
    }
  }
}

========== SQL GENERATION REASONING ==========
- Entities mapping: 
  - currency → ref.Currency (CurrencyCode; optionally CurrencyName)
  - symbol → ref.Currency.Symbol
- Tables/Joins: 
  - Single source: ref.Currency; no joins needed.
- Aggregations: 
  - None; optionally use DISTINCT to guard against duplicates.
- Filters: 
  - “available_in_system” interpreted as all currencies present in ref.Currency (no active flag available, so no additional filter).
- Order/Limit: 
  - Order alphabetically by CurrencyCode (or CurrencyName if preferred); no limit.
- Assumptions: 
  - Return “currency” as CurrencyCode; include CurrencyName if a human-readable label is desired.
  - ref.Currency contains the authoritative list of supported currencies and symbols.

========== GENERATED SQL (RAW) ==========
SELECT DISTINCT c.CurrencyCode, c.Symbol
FROM ref.Currency AS c
INNER JOIN (
    SELECT CurrencyCode FROM dbo.vw_LoanPortfolio
    UNION
    SELECT CurrencyCode FROM dbo.Collateral
    UNION
    SELECT CurrencyCode FROM dbo.PaymentEvent
    UNION
    SELECT CurrencyCode FROM dbo.PaymentSchedule
) AS u ON u.CurrencyCode = c.CurrencyCode
ORDER BY c.CurrencyCode

========== SANITIZED SQL (FOR EXECUTION) ==========
SELECT DISTINCT c.CurrencyCode, c.Symbol
FROM ref.Currency AS c
INNER JOIN (
    SELECT CurrencyCode FROM dbo.vw_LoanPortfolio
    UNION
    SELECT CurrencyCode FROM dbo.Collateral
    UNION
    SELECT CurrencyCode FROM dbo.PaymentEvent
    UNION
    SELECT CurrencyCode FROM dbo.PaymentSchedule
) AS u ON u.CurrencyCode = c.CurrencyCode
ORDER BY c.CurrencyCode

