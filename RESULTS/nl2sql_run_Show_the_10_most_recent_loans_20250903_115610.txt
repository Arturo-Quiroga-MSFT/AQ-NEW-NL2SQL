========== NATURAL LANGUAGE QUERY ==========
Show the 10 most recent loans

========== INTENT & ENTITIES ==========
{
  "intent": "list_loans",
  "entities": {
    "resource": "loans",
    "limit": 10,
    "sort": {
      "by": "date",
      "order": "desc",
      "qualifier": "most recent"
    }
  }
}

========== SQL GENERATION REASONING ==========
- Entities mapping: “loans” -> dbo.vw_LoanPortfolio (preferred for portfolio listings).
- Tables/Joins: Use only dbo.vw_LoanPortfolio; no joins needed since basic loan listing is requested.
- Aggregations: None required.
- Filters: None beyond any implicit defaults; return all loans regardless of status unless specified.
- Order/Limit: Sort by OriginationDate descending to satisfy “most recent,” return top 10 rows.
- Assumptions: “date” refers to OriginationDate (not MaturityDate); include all statuses and currencies as-is; no timezone handling needed; select key columns (LoanId/LoanNumber, CompanyName, OriginationDate, PrincipalAmount, CurrencyCode, Status) for readability.

========== GENERATED SQL (RAW) ==========
SELECT TOP (10)
    LoanId,
    LoanNumber,
    CompanyName,
    Industry,
    CountryName,
    RegionName,
    OriginationDate,
    MaturityDate,
    PrincipalAmount,
    CurrencyCode,
    InterestRatePct,
    InterestRateType,
    ReferenceRate,
    SpreadBps,
    AmortizationType,
    PaymentFreqMonths,
    Status,
    Purpose
FROM dbo.vw_LoanPortfolio
ORDER BY OriginationDate DESC, LoanId DESC

========== SANITIZED SQL (FOR EXECUTION) ==========
SELECT TOP (10)
    LoanId,
    LoanNumber,
    CompanyName,
    Industry,
    CountryName,
    RegionName,
    OriginationDate,
    MaturityDate,
    PrincipalAmount,
    CurrencyCode,
    InterestRatePct,
    InterestRateType,
    ReferenceRate,
    SpreadBps,
    AmortizationType,
    PaymentFreqMonths,
    Status,
    Purpose
FROM dbo.vw_LoanPortfolio
ORDER BY OriginationDate DESC, LoanId DESC

